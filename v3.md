```mermaid
flowchart LR
  U[User or Frontend] -->| HTTP | GW[API Gateway]
  GW --> APP[Agent API FastAPI or Azure Functions]

  subgraph APP[AI Agent Application]
    INIT[init_observability at startup]
    API[API Route or Middleware]
    ORCH[Agent Orchestrator]
    GR[Guardrails]
    CACH[Cache]
    RAG[RAG Pipeline]
    TOOLS[Tool Runner]
    MGW[Model Gateway]
  end

  API --> ORCH
  ORCH --> GR
  ORCH --> CACH
  ORCH --> RAG
  ORCH --> TOOLS
  ORCH --> MGW

  RAG --> VDB[Vector DB or Search]
  TOOLS --> SVC[Downstream Services]
  MGW --> AOAI[OpenAI or LLM]
  APP --> |OTLP traces or metrics | COL[protobuf endpoint export OTel Collector for future state]
  COL --> AM[Azure Monitor Dynatrace export Platform monitoring ]
  COL --> DT[Dynatrace Observability Backend]


